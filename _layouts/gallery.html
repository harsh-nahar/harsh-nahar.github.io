---
layout: default
---
<div class="full-bg">
  <div class="container post-container">
    <div class="gallery-header">
      <a href="{{ '/gallery/' | relative_url }}" class="back-link">&lt; gallery</a>
      <button id="fontSwitch" class="font-switch">default</button>
    </div>

    <article class="post-content">
      <h1>{{ page.title }}</h1>

      {% if page.description %}
        <p class="desc">{{ page.description }}</p>
      {% endif %}

      <div class="content gallery-images">
        {{ content }}
      </div>
    </article>

    <button id="shareBtn" class="share-btn">ðŸ”— share</button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/macy@2.5.1/dist/macy.min.js" integrity="sha384-vbLQF7G6CDg1IL9aClZVk7IXbQp7EfP7O/mu5yydqRAbhEyiV14akvjMAl9mTq3t" crossorigin="anonymous"></script>

<!-- LightGallery core + plugins -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.7.2/css/lightgallery-bundle.min.css" integrity="sha384-AYqzchVs2gK6L5WzH1Yp9KCO97Wg8xLGzD5tB0aRjHvuRfT67+6HcZfaDkoeRZ6N" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.2/lightgallery.min.js" integrity="sha384-wZ9ti3lP27KZjP+LPrC7mHH5fQ+7T7Zf6piS7TL07eDpaRYyU6DdtA8BFuOPLDTU" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.2/plugins/zoom/lg-zoom.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.2/plugins/thumbnail/lg-thumbnail.min.js" crossorigin="anonymous"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // Share button logic
  const shareBtn = document.getElementById('shareBtn');
  if (shareBtn) {
    shareBtn.addEventListener('click', async () => {
      const url = window.location.href;
      if (navigator.share && /Mobi|Tablet|iPad|iPhone/.test(navigator.userAgent)) {
        navigator.share({ url });
      } else {
        await navigator.clipboard.writeText(url);
        shareBtn.textContent = 'âœ”ï¸ copied';
        setTimeout(() => shareBtn.textContent = 'ðŸ”— share', 2000);
      }
    });
  }

  // Font toggle logic
  const fontBtn = document.getElementById('fontSwitch');
  if (fontBtn) {
    fontBtn.addEventListener('click', () => {
      if (fontBtn.textContent === 'default') {
        document.body.style.fontFamily = 'sans-serif';
        fontBtn.textContent = 'sans-serif';
      } else {
        document.body.style.fontFamily = "'Cormorant Garamond', serif";
        fontBtn.textContent = 'default';
      }
    });
  }

  // Wrap Markdown images for LightGallery
  const container = document.querySelector('.gallery-images');
  const imgs = container.querySelectorAll('img');
  imgs.forEach(img => {
    const wrapper = document.createElement('a');
    wrapper.href = img.src;
    wrapper.classList.add('gallery-item');
    img.parentNode.insertBefore(wrapper, img);
    wrapper.appendChild(img);
  });

  // Initialize Macy masonry grid
  const macyInstance = Macy({
    container: '.gallery-images',
    trueOrder: false,
    waitForImages: true,
    margin: 16,
    columns: 2,
    breakAt: {
      768: 1,
      1024: 2,
      1400: 3
    }
  });

  // Initialize LightGallery
  lightGallery(container, {
    selector: '.gallery-item',
    plugins: [lgZoom, lgThumbnail],
    speed: 400
  });
});
</script>

<style>
/* Gallery-specific overrides */
.gallery-images img {
  width: 100%;
  height: auto;
  display: block;
  margin-bottom: 1rem;
  border-radius: 0; /* remove rounded corners */
}

.desc {
  color: #555;
  margin-bottom: 1.5rem;
  font-size: 1rem;
  line-height: 1.6;
}
</style>
